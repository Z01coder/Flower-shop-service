<!-- Improved compatibility of В начало link: See: https://github.com/othneildrew/Best-README-Template/pull/73 -->
<a id="readme-top"></a>



<!-- LANGUAGE SWITCHER -->
<div align="right">
  <strong>Язык:</strong> <a href="README.en.md">English</a> | <a href="README.md">Русский</a>
</div>



<!-- PROJECT SHIELDS -->
<!--
*** I'm using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->




<!-- PROJECT LOGO -->
<br />
<div align="center">
  <h1 align="center">Flower Shop Service</h3>

  <p align="center">
    Сервис доставки цветов на Django с интеграцией Telegram бота
    <br />
  </p>
</div>



<!-- TABLE OF CONTENTS -->
<details>
  <summary>Содержание</summary>
  <ol>
    <li>
      <a href="#о-проекте">О проекте</a>
      <ul>
        <li><a href="#используемые-технологии">Используемые технологии</a></li>
      </ul>
    </li>
    <li>
      <a href="#начало-работы">Начало работы</a>
      <ul>
        <li><a href="#требования">Требования</a></li>
        <li><a href="#установка">Установка</a></li>
      </ul>
    </li>
    <li><a href="#использование">Использование</a></li>
    <li><a href="#план-развития">План развития</a></li>
    <li><a href="#вклад-в-проект">Вклад в проект</a></li>
    <li><a href="#лицензия">Лицензия</a></li>
    <li><a href="#контакты">Контакты</a></li>
    <li><a href="#благодарности">Благодарности</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## О проекте

![Превью](assets/book.webp)

![Превью](assets/fwsh_prev.gif)

Flower Shop Service - это веб-приложение на Django для сервиса доставки цветов "Цвет 25 весны". Проект предоставляет полный функционал интернет-магазина цветов с возможностью оформления заказов, управления корзиной, просмотра каталога товаров и интеграцией с Telegram ботом для уведомлений и аналитики.

<details>
  <summary><strong>Цели и задачи проекта</strong></summary>

**Цели:**
* Создать полнофункциональный интернет-магазин цветов с системой заказов
* Реализовать удобный пользовательский интерфейс для выбора и оформления заказов
* Интегрировать Telegram бота для уведомлений и аналитики
* Обеспечить эффективное управление заказами и товарами через админ-панель

**Ключевые задачи:**
* Разработать модели данных для товаров, заказов, пользователей и отзывов
* Создать систему каталога товаров с детальными страницами
* Реализовать корзину покупок и систему оформления заказов
* Внедрить систему аутентификации и личный кабинет пользователя
* Реализовать историю заказов с возможностью повторного заказа
* Добавить систему отзывов и рейтингов для товаров
* Интегрировать Telegram бота для уведомлений о заказах и аналитики
* Создать административную панель для управления заказами и товарами

</details>

<details>
  <summary><strong>Результаты</strong></summary>

**Реализованная функциональность:**
* Регистрация и авторизация пользователей с кастомной моделью пользователя
* Каталог товаров с детальными страницами для каждого букета
* Корзина покупок с возможностью добавления и удаления товаров
* Система оформления заказов с выбором даты и времени доставки
* История заказов с возможностью повторного заказа
* Система отзывов и рейтингов для товаров
* Личный кабинет пользователя с редактированием профиля
* Административная панель для управления заказами, товарами и пользователями
* Аналитика по продажам для администратора
* Telegram бот с уведомлениями о новых заказах и смене статуса
* Команда `/analytics` в Telegram боте для получения ежедневной статистики

**Созданные компоненты:**
* Django приложение `flower_shop` с моделями: CustomUser, Product, Order, OrderItem, Review, Report
* HTML шаблоны для всех страниц приложения
* Система сигналов для автоматической отправки уведомлений в Telegram
* Кастомные команды управления для создания тестовых пользователей и товаров
* Интеграция с python-telegram-bot для работы Telegram бота

</details>

<p align="right">(<a href="#readme-top">В начало</a>)</p>



### Используемые технологии

Основные технологии и библиотеки, используемые в проекте:

* [![Django][Django-badge]][Django-url]
* [![Python][Python-badge]][Python-url]

Дополнительные зависимости:
* `python-telegram-bot==21.10` - для интеграции Telegram бота
* `pytest==8.3.4` и `pytest-django==4.10.0` - для тестирования
* `pillow==11.1.0` - для работы с изображениями товаров
* `python-dotenv==1.0.0` - для управления настройками через переменные окружения
* `SQLite` - база данных (по умолчанию)
* `Bootstrap` - для современного адаптивного дизайна интерфейса

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- GETTING STARTED -->
<details>
  <summary><strong>Начало работы</strong></summary>

Инструкции по установке и запуску проекта локально.

### Требования

Для работы с проектом необходимо установить:

* Python 3.x
  ```sh
  # Проверьте версию Python
  python --version
  ```

### Установка

Ниже приведены инструкции по установке и настройке приложения.

1. Клонируйте репозиторий
   ```sh
   git clone https://github.com/your_username/repo_name.git
   cd Flower-shop-service
   ```

2. Создайте виртуальное окружение (рекомендуется)
   ```sh
   python -m venv venv
   # Windows
   venv\Scripts\activate
   # Linux/Mac
   source venv/bin/activate
   ```

3. Установите зависимости
   ```sh
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` в корне проекта и добавьте необходимые переменные окружения:
   ```sh
   SECRET_KEY=your-secret-key-here
   DEBUG=True
   ALLOWED_HOSTS=localhost,127.0.0.1
   TELEGRAM_BOT_TOKEN=your-telegram-bot-token
   TELEGRAM_ADMIN_CHAT_ID=your-telegram-chat-id
   ```

5. Примените миграции
   ```sh
   python manage.py migrate
   ```

6. Создайте тестовых пользователей
   ```sh
   python manage.py create_test_users
   ```
   
   По умолчанию создаются пользователи:
   - **Админ:** `admin` / `admin123` (email: `admin@example.com`)
   - **Пользователь:** `testuser` / `test123` (email: `testuser@example.com`)

7. (Опционально) Создайте тестовые товары
   ```sh
   python manage.py create_test_products
   ```

8. Запустите сервер разработки
   ```sh
   python manage.py runserver
   ```

9. Откройте в браузере:
   - Главная страница: http://127.0.0.1:8000/
   - Каталог товаров: http://127.0.0.1:8000/catalog/
   - Админ-панель: http://127.0.0.1:8000/admin/

</details>

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- USAGE EXAMPLES -->
<details>
  <summary><strong>Использование</strong></summary>

Приложение предоставляет следующие страницы и функциональность:

### Основные страницы:

1. **Главная страница** (`/`)
   - Приветственная страница с описанием сервиса
   - Доступна всем пользователям

2. **Каталог товаров** (`/catalog/`)
   - Отображает все доступные букеты цветов
   - Доступна всем пользователям без авторизации
   - Показывает название, цену и изображение каждого товара

3. **Детальная страница товара** (`/catalog/<product_id>/`)
   - Подробная информация о букете
   - Отображение всех отзывов и рейтингов
   - Возможность оставить отзыв (требуется авторизация)
   - Кнопка добавления товара в корзину

4. **Корзина** (`/cart/`)
   - Просмотр товаров в корзине
   - Изменение количества товаров
   - Очистка корзины
   - Переход к оформлению заказа

5. **Оформление заказа** (`/create_order/`)
   - Форма для оформления доставки
   - Выбор даты и времени доставки
   - Указание адреса доставки
   - Добавление комментария к заказу
   - Требуется авторизация

6. **История заказов** (`/order_history/`)
   - Просмотр всех заказов пользователя
   - Детальная информация о каждом заказе
   - Возможность повторить заказ
   - Требуется авторизация

7. **Личный кабинет** (`/profile/`)
   - Просмотр и редактирование профиля
   - Управление личными данными
   - Требуется авторизация

8. **Регистрация и вход** (`/register/`, `/login/`)
   - Регистрация новых пользователей
   - Авторизация существующих пользователей
   - Восстановление пароля

9. **Аналитика** (`/analytics/`)
   - Статистика по продажам
   - Отчёты о заказах и выручке
   - Доступна только суперпользователям

10. **Админ-панель** (`/admin/`)
    - Стандартная Django админ-панель
    - Управление товарами, заказами, пользователями и отзывами
    - Изменение статусов заказов
    - Доступна только администраторам

### Telegram бот:

- **Уведомления о заказах**: автоматическая отправка уведомлений в Telegram при создании нового заказа
- **Уведомления о смене статуса**: отправка сообщений при изменении статуса заказа
- **Команда `/analytics`**: получение ежедневной статистики по заказам и выручке
- Бот запускается автоматически при старте Django приложения

</details>

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- ROADMAP -->
## План развития

<details>
  <summary><strong>Показать пройденные этапы разработки</strong></summary>

### Выполненные этапы:

- [x] **Этап 1: Базовая структура проекта**
  - [x] Создание Django проекта `flower_shop`
  - [x] Настройка базовой структуры URL и маршрутизации
  - [x] Настройка статических файлов и медиа

- [x] **Этап 2: Модели данных**
  - [x] Разработка кастомной модели пользователя `CustomUser` с полями phone и address
  - [x] Создание модели `Product` для товаров (букетов)
  - [x] Разработка модели `Order` с выбором даты и времени доставки
  - [x] Создание модели `OrderItem` для связи заказов с товарами
  - [x] Разработка модели `Review` с системой рейтингов
  - [x] Создание модели `Report` для аналитики продаж
  - [x] Применение миграций базы данных

- [x] **Этап 3: Система аутентификации и авторизации**
  - [x] Реализация регистрации новых пользователей
  - [x] Реализация страницы входа и выхода
  - [x] Настройка декораторов для защиты страниц, требующих авторизации
  - [x] Реализация восстановления пароля
  - [x] Настройка редиректов после входа/выхода

- [x] **Этап 4: Каталог товаров**
  - [x] Реализация представления для отображения списка товаров
  - [x] Создание детальной страницы товара с отображением информации
  - [x] Создание HTML шаблонов для каталога
  - [x] Интеграция работы с изображениями товаров

- [x] **Этап 5: Корзина покупок**
  - [x] Реализация добавления товаров в корзину (сессия)
  - [x] Создание страницы просмотра корзины
  - [x] Реализация изменения количества товаров в корзине
  - [x] Реализация очистки корзины

- [x] **Этап 6: Система заказов**
  - [x] Создание формы `OrderForm` для оформления заказа
  - [x] Реализация представления для обработки заказа
  - [x] Создание HTML шаблона формы оформления заказа
  - [x] Реализация выбора даты и времени доставки
  - [x] Сохранение заказа в базу данных с товарами из корзины

- [x] **Этап 7: История заказов**
  - [x] Реализация просмотра истории заказов пользователя
  - [x] Отображение детальной информации о каждом заказе
  - [x] Реализация функции повторного заказа

- [x] **Этап 8: Система отзывов и рейтингов**
  - [x] Создание формы `ReviewForm` для добавления отзывов
  - [x] Реализация возможности оставить отзыв на товар
  - [x] Система рейтингов от 1 до 5 звёзд
  - [x] Отображение всех отзывов на странице товара

- [x] **Этап 9: Личный кабинет**
  - [x] Создание страницы личного кабинета
  - [x] Реализация редактирования профиля пользователя
  - [x] Создание формы `ProfileEditForm` для изменения данных

- [x] **Этап 10: Административная панель**
  - [x] Настройка Django админ-панели для всех моделей
  - [x] Добавление фильтров и поиска в админ-панели
  - [x] Настройка отображения заказов с inline-редактированием товаров
  - [x] Реализация изменения статусов заказов

- [x] **Этап 11: Аналитика продаж**
  - [x] Реализация страницы аналитики для администраторов
  - [x] Расчёт общей выручки и количества заказов
  - [x] Создание отчётов по продажам
  - [x] Отображение статистики в удобном формате

- [x] **Этап 12: Интеграция Telegram бота**
  - [x] Интеграция библиотеки `python-telegram-bot`
  - [x] Настройка автоматического запуска бота при старте приложения
  - [x] Реализация отправки уведомлений о новых заказах
  - [x] Реализация уведомлений о смене статуса заказа
  - [x] Создание команды `/analytics` для получения статистики
  - [x] Настройка отправки фотографий товаров в уведомлениях

- [x] **Этап 13: Система сигналов**
  - [x] Реализация сигналов для автоматической отправки уведомлений
  - [x] Настройка обработки событий создания и обновления заказов
  - [x] Интеграция сигналов с Telegram ботом

- [x] **Этап 14: Кастомные команды управления**
  - [x] Создание команды `create_test_users` для создания тестовых пользователей
  - [x] Создание команды `create_test_products` для создания тестовых товаров
  - [x] Реализация загрузки изображений для товаров

- [x] **Этап 15: Улучшение пользовательского интерфейса**
  - [x] Интеграция Bootstrap для современного дизайна
  - [x] Создание адаптивной навигационной панели
  - [x] Улучшение форм с CSS-классами Bootstrap
  - [x] Отображение статуса пользователя в навигации
  - [x] Создание красивого дизайна главной страницы

- [x] **Этап 16: Управление настройками через переменные окружения**
  - [x] Интеграция библиотеки `python-dotenv`
  - [x] Вынос секретных ключей в переменные окружения
  - [x] Настройка `SECRET_KEY`, `DEBUG`, `ALLOWED_HOSTS` через `.env`
  - [x] Настройка токенов Telegram бота через переменные окружения

</details>

### Планируемые улучшения:

- [ ] Добавление пагинации для каталога товаров
- [ ] Реализация полнотекстового поиска по товарам
- [ ] Добавление фильтрации товаров по категориям и цене
- [ ] Реализация системы скидок и промокодов
- [ ] Добавление возможности редактирования и удаления отзывов
- [ ] Реализация системы избранных товаров
- [ ] Добавление уведомлений на email при изменении статуса заказа
- [ ] Реализация интеграции с платёжными системами
- [ ] Добавление системы уведомлений в личном кабинете
- [ ] Реализация API endpoints (REST API) для мобильного приложения
- [ ] Добавление системы управления категориями товаров
- [ ] Реализация экспорта отчётов в Excel/PDF
- [ ] Написание unit-тестов и интеграционных тестов
- [ ] Настройка CI/CD pipeline
- [ ] Оптимизация производительности и кэширование
- [ ] Добавление многоязычности интерфейса

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- CONTRIBUTING -->
## Вклад в проект

Вклады делают сообщество открытого исходного кода таким удивительным местом для обучения, вдохновения и творчества. Любые ваши вклады будут **высоко оценены**.

Если у вас есть предложения по улучшению, пожалуйста, создайте fork репозитория и отправьте pull request. Вы также можете просто открыть задачу с тегом «enhancement». Не забудьте поставить проекту звездочку! Еще раз спасибо!

1. Создать fork проекта
2. Создайте ветку для вашей функции (`git checkout -b feature/AmazingFeature`)
3. Зафиксируйте изменения (`git commit -m 'Add some AmazingFeature'`)
4. Отправьте изменения в ветку (`git push origin feature/AmazingFeature`)
5. Создайте Pull Request

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- LICENSE -->
## Лицензия

Распространяется по лицензии MIT. Дополнительную информацию см. в файле `LICENSE`.

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- CONTACT -->
## Контакты

* [![GitHub][GitHub-badge]][GitHub-url]
* [![Gmail][Gmail-badge]][Gmail-url]
* [![Telegram][Telegram-badge]][Telegram-url]

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- ACKNOWLEDGMENTS -->
## Благодарности

Выражаю искреннюю благодарность университету [Zerocoder](https://zerocoder.ru/) и всей его команде за создание вдохновляющей и профессиональной образовательной среды. За подготовку "IT-астронавтов" на "космодроме" Зерокодер.

Особая благодарность:

[Кириллу Пшиннику](https://kpshinnik.ru/), директору университета, за вдохновение на подвиг;

Преподавателям [Нине Стефанцовой](https://neural-courses.ru/teacher/nina-stefancova/), [Максиму Вершинину](https://neural-courses.ru/teacher/maksim-vershinin/) и [Дарье Бобровской](https://neural-courses.ru/teacher/darya-bobrovskaya/) — за глубокие знания, терпение и готовность всегда помочь;

Никите Муркину, куратору курса, за чёткую организацию и наставничество;

Елизавете, менеджеру, за заботу, оперативность и неизменную доброжелательность.

Благодаря вам этот проект стал возможен!

<p align="right">(<a href="#readme-top">В начало</a>)</p>



<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[Django-badge]: https://img.shields.io/badge/Django-092E20?style=for-the-badge&logo=django&logoColor=white
[Django-url]: https://www.djangoproject.com/
[Python-badge]: https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white
[Python-url]: https://www.python.org/
[GitHub-badge]: https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white
[GitHub-url]: https://github.com/Z01coder
[Gmail-badge]: https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white
[Gmail-url]: mailto:zolotuxin.alexey@gmail.com
[Telegram-badge]: https://img.shields.io/badge/Telegram-2CA5E0?style=for-the-badge&logo=telegram&logoColor=white
[Telegram-url]: https://t.me/AZVXAN
